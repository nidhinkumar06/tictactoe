<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<div class="text-center">
    Tic Tac Toe Game
    <p id="playerTurn"></p>
</div>
<script type="text/javascript">
let a = [1,2,3,4,5,6,7,8,9];
let currentPlayer = "X";
let turns = 0;

// Dynamic Table Creation

let table = "<table class=\"table table-dark mt-2 mx-3\" id=\"mytable\" cellpadding=\"0\" cellspacing=\"0\" style=\" width:100px;\"><tbody><tr>";

for (let i = 1; i <= a.length; i++) {
  if (i % 3 == 1 && i != 1) {
    table += "</tr><tr>";
  }
  table += `<th scope=\"col\" class="text-center" id=\"tableHead\"><input class="btn btn-light" onclick="addDataToBoard(${i})"  type="button" value="" id="button${i}" /></th>`;
}

table += "</tr></tbody></table>";

document.write(table);

//players turn
displayPlayerTurn();

//making a move in board
function addDataToBoard(data) {
    let board = document.getElementById(`button${data}`);
    if (board.value === "") {
        board.value = currentPlayer;
        a[data-1] = currentPlayer;
        turns++;
        checkResult(currentPlayer);
        togglePlayer();
    } else {
        alert('Invalid Move');
    }
}


function togglePlayer() {
  if (currentPlayer === 'X') {
      currentPlayer = 'O';
  } else {
      currentPlayer = 'X';
  }
  displayPlayerTurn();
}


function checkResult(user) {
    if ((a[0] === user && a[1] === user && a[2] === user) ||
    (a[3] === user && a[4] === user && a[5] === user) ||
    (a[6] === user && a[7] === user && a[8] === user) ||
    (a[0] === user && a[3]=== user && a[6] === user) ||
    (a[1] === user && a[4]=== user && a[7] === user) ||
    (a[2] === user && a[5]=== user && a[8] === user) ||
    (a[0] === user && a[4]=== user && a[8] === user) ||
    (a[2] === user && a[4]=== user && a[6] === user)
    ) {
        alert(`${user} wins`);
        refreshBoard();
    } else if(turns === 9){
      alert('Match Draw');
      refreshBoard();
    }

}


//refresh the board
function refreshBoard() {
    setTimeout(function() {
      location.reload(); 
    }, 2000);
}

//display which player is playing
function displayPlayerTurn() {
  document.getElementById('playerTurn').innerHTML = `Player ${currentPlayer} Turn`;
}
</script>